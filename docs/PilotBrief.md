# üßæ –ü–∏–ª–æ—Ç–Ω—ã–π –±—Ä–∏—Ñ (–≤–µ—Ä—Å–∏—è v3 ‚Äî –æ–¥–Ω–∞ —Å–º–µ–Ω–∞ –Ω–∞ –º–∞–≥–∞–∑–∏–Ω –≤ –¥–µ–Ω—å, —Ä–æ–ª–∏ opener/closer)

–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –≤–≤–æ–¥–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–æ `docs/DeliveryPlan.md`. –ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è/—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–∏—Ñ –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∫ PRD.

## 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç
- **–ú–æ–¥–µ–ª—å —Å–º–µ–Ω—ã:** –Ω–∞ –º–∞–≥–∞–∑–∏–Ω –∏ –¥–∞—Ç—É —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ä–æ–≤–Ω–æ **–æ–¥–Ω–∞** —Å–º–µ–Ω–∞ (run).
- **–†–æ–ª–∏:**
  - **–û—Ç–∫—Ä—ã–≤–∞—é—â–∏–π (opener)** ‚Äî –ø–µ—Ä–≤—ã–π, –∫—Ç–æ –Ω–∞–∂–∞–ª ¬´–ù–∞—á–∞—Ç—å —Å–º–µ–Ω—É¬ª.
  - **–ó–∞–∫—Ä—ã–≤–∞—é—â–∏–π (closer)** ‚Äî –ø–µ—Ä–≤—ã–π, –∫—Ç–æ –Ω–∞–∂–∞–ª ¬´–ù–∞—á–∞—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ¬ª.
  - –ö–∞–∂–¥–∞—è —Ä–æ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å **–ø–µ—Ä–µ–¥–∞–Ω–∞** –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –¥—Ä—É–≥–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É.
- **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** Telegram (username –∏–ª–∏ user_id). Username –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
- **–°–ª–æ—Ç—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:** –¥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–∏ –ø–∏–Ω–≥—É–µ–º –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞; –ø–æ—Å–ª–µ ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è —Ä–æ–ª–∏.
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** Google Sheets, Redis –¥–ª—è FSM/–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫/–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π.
- **–°—Ä–æ–∫–∏:** 2,5‚Äì3,5 –Ω–µ–¥–µ–ª–∏ –¥–æ –∑–∞–ø—É—Å–∫–∞ –ø–∏–ª–æ—Ç–∞.
- **–ö–ö–ú:** –º–∞–≥–∞–∑–∏–Ω 1 —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ `dual_cash_mode` (–∫–∞—Å—Å—ã A/B), –º–∞–≥–∞–∑–∏–Ω 2 ‚Äî –æ–¥–Ω–∞ –∫–∞—Å—Å–∞.

## 2. –ú–∞–≥–∞–∑–∏–Ω—ã –ø–∏–ª–æ—Ç–∞ (–∑–∞–ø–æ–ª–Ω–∏—Ç—å)

| Shop ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∞–π–º–∑–æ–Ω–∞ | –ú–µ–Ω–µ–¥–∂–µ—Ä (TG @) | –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (TG @) | –ü–ª–∞–Ω–æ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ / –∑–∞–∫—Ä—ã—Ç–∏–µ | Reminder override | –°—Ç–∞—Ç—É—Å |
| --- | --- | --- | --- | --- | --- | --- | --- |
| shop_1 | –ù–æ–≥–º–æ–≤–∞ | Europe/Moscow | @manager_shop1 | @Zuuuuhra99, @o_lisaaaa, @Asad_lkaev | 09:00 / 21:00 | `{"dual_checks":["12:00","13:00","13:30","15:00","16:00","16:30","17:30"]}` | ‚úÖ |
| shop_2 | –ò—Å–∫–æ–∂ | Europe/Moscow | @manager_shop2 | @a1III11, @VviVkk | 10:00 / 22:00 | NULL (–¥–µ—Ñ–æ–ª—Ç ‚àí15/‚àí30) | ‚úÖ |

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∑–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —É–∫–∞–∑–∞—Ç—å ‚úÖ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

### –£—Ç–æ—á–Ω—ë–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∏ –∑–∞–º–µ–Ω—ã
- **–ú–∞–≥–∞–∑–∏–Ω 1.** –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏: `@Zuuuuhra99`, `@o_lisaaaa`. –ú–æ–≥—É—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ 2; –≤ –æ–±—â–∏–π –ø—É–ª –∑–∞–º–µ–Ω—ã –≤—Ö–æ–¥–∏—Ç `@Asad_lkaev`.
- **–ú–∞–≥–∞–∑–∏–Ω 2.** –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏: `@a1III11`, `@VviVkk`. –ú–æ–≥—É—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å–º–µ–Ω—ã –º–∞–≥–∞–∑–∏–Ω–∞ 1.
- **–ó–∞–º–µ–Ω–∞ —Ä–æ–ª–µ–π.** –î–∞–∂–µ –ø—Ä–∏ –∫—Ä–æ—Å—Å-–≤—ã—Ö–æ–¥–∞—Ö –¥–µ–π—Å—Ç–≤—É–µ—Ç –º–æ–¥–µ–ª—å –æ–¥–Ω–æ–π —Å–º–µ–Ω—ã: opener –∏ closer —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π run –∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º–∏ –ª—é–¥—å–º–∏.

## 3. –®–∞–±–ª–æ–Ω—ã –∏ —à–∞–≥–∏
- –®–∞–±–ª–æ–Ω **¬´–û—Ç–∫—Ä—ã—Ç–∏–µ¬ª** (phase=open): —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏/—Ñ–æ—Ç–æ –ø–æ –ö–ö–ú (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä).
- –®–∞–±–ª–æ–Ω **¬´–ó–∞–∫—Ä—ã—Ç–∏–µ¬ª** (phase=close): –∫–∞—Å—Å–∞ 19:00, —Ç–µ—Ä–º–∏–Ω–∞–ª—ã, **—Ñ–æ—Ç–æ Z-–æ—Ç—á—ë—Ç–∞** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ), –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏ |Œî| ‚â• –ø–æ—Ä–æ–≥–∞.
- –ü–æ—Ä–æ–≥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: **300 ‚ÇΩ** (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ –º–∞–≥–∞–∑–∏–Ω—É/—à–∞–≥—É).

## 4. –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π

| –°–æ–±—ã—Ç–∏–µ | –¢–µ–∫—Å—Ç (RU) | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π | –°—Ç–∞—Ç—É—Å |
| --- | --- | --- | --- |
| –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ `/start` | ¬´–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —á–µ–∫-–ª–∏—Å—Ç-–±–æ—Ç RetailCheck. –ù–∞–∂–º–∏—Ç–µ ‚Äú–ù–∞—á–∞—Ç—å —Å–º–µ–Ω—É‚Äù, —á—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å —à–∞–≥–∏.¬ª | UX | ‚òê |
| –û—à–∏–±–∫–∞ —á–∏—Å–ª–∞ | ¬´–ù—É–∂–Ω–æ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 200‚ÄØ000 ‚ÇΩ. –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ‚Äî —Ç–æ—á–∫–∞).¬ª | UX | ‚òê |
| –¢—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | ¬´–†–∞–∑–Ω–∏—Ü–∞ {delta} ‚ÇΩ. –ù–∞–ø–∏—à–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ –ø—Ä–∏—á–∏–Ω—É ‚Äî –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è —à–∞–≥ –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è.¬ª | UX | ‚òê |
| –§–æ—Ç–æ –Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–æ | ¬´–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Ñ–æ—Ç–æ Z-–æ—Ç—á—ë—Ç–∞, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ ‚Äú–î–∞–ª–µ–µ‚Äù.¬ª | UX | ‚òê |
| –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º | ¬´–ú–∞–≥–∞–∑–∏–Ω {shop}. –ß–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ, –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –±–ª–æ–∫ ‚Äú–û—Ç–∫—Ä—ã—Ç–∏–µ/–°–≤–µ—Ä–∫–∞ {time}‚Äù.¬ª | UX | ‚òê |
| –ò—Ç–æ–≥ –º–µ–Ω–µ–¥–∂–µ—Ä—É | ¬´–°–º–µ–Ω–∞ {shop} –∑–∞ {date}. –ò—Ç–æ–≥–æ–≤–∞—è –¥–µ–ª—å—Ç–∞ {delta} ‚ÇΩ ({comment}).¬ª | UX | ‚òê |
| –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É | ¬´–ú–µ–Ω–µ–¥–∂–µ—Ä –≤–µ—Ä–Ω—É–ª —Å–º–µ–Ω—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —à–∞–≥–∏: {list}.¬ª | UX | ‚òê |

–ü–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç—ã –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –≤ —Ñ–∞–π–ª –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `locale/ru/messages.json`) –∏ —Å—á–∏—Ç–∞—é—Ç—Å—è frozen.

## 5. –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞
- **DELTA_THRESHOLD_RUB.** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 300 ‚ÇΩ; —É–∫–∞–∑–∞—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –∏–Ω–æ–π –ø–æ—Ä–æ–≥ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º/—à–∞–≥–∞–º.
- **–î–æ–ø—É—Å—Ç–∏–º—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è.** –û–ø–∏—Å–∞—Ç—å, –∫–∞–∫–∏–µ —à–∞–≥–∏ —Ç—Ä–µ–±—É—é—Ç —Å—Ç—Ä–æ–≥—É—é —Ä–∞–≤–Ω–æ—Å—Ç—å, –≥–¥–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω.
- **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.** –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–ª–∞–Ω–æ–≤—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å–ª–æ—Ç–æ–≤ ‚àí15/‚àí30 –º–∏–Ω). –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –∏–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫, –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ–± override (JSON) –¥–ª—è `reminder_slots`.

## 6. –ß–µ–∫-–ª–∏—Å—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- [ ] –¢–∞–±–ª–∏—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∑–∞–∫–∞–∑—á–∏–∫–æ–º.
- [ ] –®–∞–±–ª–æ–Ω —à–∞–≥–æ–≤ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω, –≤–µ—Ä—Å–∏—è –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞.
- [ ] UX-—Ç–µ–∫—Å—Ç—ã —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã (–ø–æ–¥–ø–∏—Å—å –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ).
- [ ] –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∑–∞–ø–∏—Å–∞–Ω—ã –≤ `.env` / –∫–æ–Ω—Ñ–∏–≥–∏.
- [ ] Google Sheet –∑–∞–ø–æ–ª–Ω–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å–æ–≥–ª–∞—Å–Ω–æ `docs/DataModel.md`.

–ü–æ—Å–ª–µ –æ—Ç–º–µ—Ç–∫–∏ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Ñ–∞–∑–µ F0‚ÄìF1 —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
