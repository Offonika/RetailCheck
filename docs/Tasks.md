# Backlog / Tasks for RetailCheck MVP

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–¥–∞—á —Ä–∞–∑–±–∏—Ç–∞ –ø–æ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç–µ F0 ‚Üí F1 –∏–∑ `docs/DeliveryPlan.md`. –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –≤–∫–ª—é—á–∞–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏.

## 0. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| T0.1 | –§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Google Sheet | –°–æ–∑–¥–∞—Ç—å –ª–∏—Å—Ç—ã –ø–æ `docs/DataModel.md`, –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É | –¢–∞–±–ª–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Å–µ—Ä–≤–∏—Å—É, —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–Ω–µ—Å–µ–Ω—ã | ‚úÖ |
| T0.2 | –ó–∞–ø–æ–ª–Ω–∏—Ç—å whitelist –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–º–∞–≥–∞–∑–∏–Ω–æ–≤ | –í–Ω–µ—Å—Ç–∏ `@Zuuuuhra99`, `@o_lisaaaa`, `@Asad_lkaev`, `@a1III11`, `@VviVkk`, `@offonar` –≤ `manager_usernames`/`employee_usernames` –Ω—É–∂–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤. `allow_anyone` –≤ –ø–∏–ª–æ—Ç–µ –æ—Å—Ç–∞—ë—Ç—Å—è `FALSE`, –∫—Ä–æ–º–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ | –ë–æ—Ç –≤–∏–¥–∏—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –æ–±–æ–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö, –ø—Ä–æ–≤–µ—Ä–∫–∞ whitelist –ø—Ä–æ—Ö–æ–¥–∏—Ç | ‚úÖ |
| T0.3 | –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã/–∫–æ–Ω—Ñ–∏–≥–∏ | –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å `.env` –∏–∑ `.env.example`, –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã, ids, LOCK TTL | –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º `.env` | ‚úÖ |

## 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ CI/CD (F0)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F0.1 | Repo bootstrap & tooling | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Make/Poetry/pipenv, lint/test —Å–∫—Ä–∏–ø—Ç—ã, pre-commit | `make lint` / `make test` –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ clean repo | ‚úÖ |
| F0.2 | Docker/systemd –æ–∫—Ä—É–∂–µ–Ω–∏–µ | –°–æ–±—Ä–∞—Ç—å Dockerfile + docker-compose, –æ–ø–∏—Å–∞—Ç—å systemd –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, bot health-check –æ–∫ | ‚úÖ |
| F0.3 | CI pipeline | –î–æ–±–∞–≤–∏—Ç—å Github Actions: lint, tests, docker build | PR –æ–±—è–∑–∞–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å pipeline | ‚úÖ (workflow `.github/workflows/ci.yml`) |

## 2. Data & Templates (F1 –≤ DeliveryPlan)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F1.1 | Google Sheets client | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å wrapper (auth, rate-limit retry, batchUpdate, idempotency) | Unit-—Ç–µ—Å—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞, —É—Å–ø–µ—à–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å Users/Shops/Templates | ‚úÖ |
| F1.2 | Templates bootstrap | –ò–º–ø–æ—Ä—Ç –±–∞–∑–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ ¬´–û—Ç–∫—Ä—ã—Ç–∏–µ¬ª/¬´–ó–∞–∫—Ä—ã—Ç–∏–µ¬ª —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `template_version = v1`) —Å `phase=open/close` | CLI —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç JSON ‚Üí Sheets, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ phase | ‚úÖ (`tools/import_templates.py`) |

## 3. Employee Flow (F2)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F2.1 | FSM + deep-link —Å—Ç–∞—Ä—Ç | –û–±—Ä–∞–±–æ—Ç–∞—Ç—å `/start`, payload `?start=shop_<id>__open|__close`, –∑–∞—Ö–≤–∞—Ç Redis-lock `run:{shop}:{date}` | –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ QR `https://t.me/<bot>?start=shop_<id>__open|__close` —Å–æ–∑–¥–∞—ë—Ç/–Ω–∞–∑–Ω–∞—á–∞–µ—Ç run; –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–Ω—è—Ç–æ–π —Ä–æ–ª–∏ | ‚úÖ |
| F2.2 | –®–∞–≥–∏ –≤–≤–æ–¥–∞ (open/close) | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–∏–ø—ã —à–∞–≥–æ–≤ number/text/check/photo, –¥–µ–ª—å—Ç–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ | –°—Ü–µ–Ω–∞—Ä–∏–π opener/closer –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —à–∞–≥–∏ –±–µ–∑ –æ—à–∏–±–æ–∫ | ‚úÖ (FSM + –≤–∞–ª–∏–¥–∞—Ü–∏–∏) |
| F2.3 | –§–æ—Ç–æ –∏ –≤–ª–æ–∂–µ–Ω–∏—è | –ü—Ä–∏–Ω–∏–º–∞—Ç—å —Ñ–æ—Ç–æ, —Å–æ—Ö—Ä–∞–Ω—è—Ç—å `telegram_file_id`, —Å–≤—è–∑—ã–≤–∞—Ç—å —Å RunSteps/Attachments | Z-—Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç `closed` | ‚úÖ (—à–∞–≥–∏ —Ç–∏–ø–∞ photo + –ø—Ä–æ–≤–µ—Ä–∫–∞ summary) |
| F2.4 | –ò—Ç–æ–≥ –∏ —Å—Ç–∞—Ç—É—Å—ã | –ü—Ä–æ–≥–æ–Ω —Å—Ç–∞—Ç—É—Å–æ–≤ `opened‚Üíin_progress‚Üíready_to_close‚Üíclosed`, summary | Summary –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä—É (—á–µ—Ä–µ–∑ `/summary shop_id`), status –æ–±–Ω–æ–≤–ª—ë–Ω, Audit `finish_close` –∑–∞–ø–∏—Å–∞–Ω | ‚úÖ |

## 4. Manager Flow (F3)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F3.1 | fallback ¬´–°–æ–∑–¥–∞—Ç—å —Å–º–µ–Ω—É¬ª | –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è run (—Ä–µ–¥–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π) | –ú–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å run –±–µ–∑ QR, Employees –≤–∏–¥—è—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ | ‚úÖ (/create_run) |
| F3.2 | –°—Ç–∞—Ç—É—Å/–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –ú–µ–Ω—é ¬´–°—Ç–∞—Ç—É—Å —Å–º–µ–Ω¬ª: –ø—Ä–æ–≥—Ä–µ—Å—Å, –¥–µ–ª—å—Ç—ã, opener/closer | –¢–∞–±–ª–∏—Ü–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º ‚â•2 –º–∞–≥–∞–∑–∏–Ω–æ–≤, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è live | ‚úÖ (/status –æ–±–∑–æ—Ä + –¥–µ—Ç–∞–ª–∏) |
| F3.3 | –í–æ–∑–≤—Ä–∞—Ç –∏ –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–æ–ª–µ–π | –ö–Ω–æ–ø–∫–∏ ¬´–í–µ—Ä–Ω—É—Ç—å¬ª, ¬´–ü–µ—Ä–µ–¥–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ¬ª —Å Audit | –ü–µ—Ä–µ–¥–∞—á–∞ –º–µ–Ω—è–µ—Ç `opener_user_id`/`closer_user_id`, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, Audit —Ö—Ä–∞–Ω–∏—Ç —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + timestamp | ‚úÖ (/handover, /return_run + Audit) |
| F3.4 | UX —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ / inline-–∫–Ω–æ–ø–∫–∏ | –£—Ç–æ—á–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å inline/reply –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–≤—ã–±–æ—Ä —à–∞–≥–∞, –≤–æ–∑–≤—Ä–∞—Ç, –ø—Ä–æ–ø—É—Å–∫, summary) –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å flow | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ —Å–º–µ–Ω—É —Ç–æ–ª—å–∫–æ –Ω–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫–∏, –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥; –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ | ‚úÖ (reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —à–∞–≥–æ–≤ + /menu) |
| F3.5 | –ú–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–æ–µ –º–µ–Ω—é | –î–æ–±–∞–≤–∏—Ç—å inline/keyboard –∫–Ω–æ–ø–∫–∏ ¬´–ü–µ—Ä–µ–¥–∞—Ç—å¬ª, ¬´–í–µ—Ä–Ω—É—Ç—å¬ª, ¬´–≠–∫—Å–ø–æ—Ä—Ç¬ª –≤ –º–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–æ–º –º–µ–Ω—é (–∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ PRD) | –ú–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —ç—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥ | ‚úÖ (/manager + inline-–¥–µ–π—Å—Ç–≤–∏—è) |

## 5. Reminders & Alerts (F4)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F4.1 | Scheduler —Å–ª–æ—Ç–æ–≤ 11/16/19 | –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ `tools/send_reminders.py --slot HH:MM` –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π APScheduler (`tools/reminder_scheduler.py`) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Runs –ø–æ —Å–ª–æ—Ç–∞–º, —É—á–∏—Ç—ã–≤–∞–µ—Ç reminder_slots –º–∞–≥–∞–∑–∏–Ω–æ–≤ | –ü—Ä–∏ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —à–∞–≥–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º (chat ids –≤ `MANAGER_NOTIFY_CHAT_IDS`) | ‚úÖ (—Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è) |
| F4.2 | –î–µ–ª—å—Ç–∞-–∞–ª–µ—Ä—Ç—ã | –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø—Ä–∏ |delta| ‚â• threshold, –∞–Ω—Ç–∏-–¥—É–±–ª—å —Ñ–ª–∞–≥ | –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–∫–∞ —Å—Ç–∞—Ç—É—Å –Ω–µ –∏–∑–º–µ–Ω—ë–Ω | ‚úÖ (—Å–∫—Ä–∏–ø—Ç `tools/delta_alerts.py`) |
| F4.3 | Redis-lock –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –ù–∞–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø–æ `run:{shop}:{date}` –∏ `:open/:close`, TTL refresh | –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—ã–π –∑–∞—Ö–≤–∞—Ç, –Ω–µ—Ç –¥–≤–æ–π–Ω—ã—Ö run | ‚úÖ (–ª–æ–≥–∏ RunService + `tools/lock_monitor.py`) |

## 6. Export & Audit (F5)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F5.1 | Audit logger | –û–±—ë—Ä—Ç–∫–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç `start_open|start_close|handover_*|finish_close|step_update` | –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏ | ‚úÖ (start/handover/step/finish) |
| F5.2 | Export –∑–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é | –ö–æ–º–∞–Ω–¥–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Å opener/closer/–¥–µ–ª—å—Ç–æ–π, –≤–∫–ª—é—á–∞—è `opener_username` –∏ `closer_username` | –ü—Ä–æ–≤–µ—Ä–∫–∞: –¥–∞–Ω–Ω—ã–µ Export —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å Runs/RunSteps | ‚úÖ (/export shop_id [date]) |
| F5.3 | Export –∑–∞ –Ω–µ–¥–µ–ª—é | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –∑–∞ –Ω–µ–¥–µ–ª—é (range) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å PRD (–∫–Ω–æ–ø–∫–∞ + –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–µ—Ä–∏–æ–¥) | –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ ¬´–≠–∫—Å–ø–æ—Ä—Ç –∑–∞ –Ω–µ–¥–µ–ª—é¬ª —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –ø–æ –¥–∞—Ç–∞–º, –∏—Ç–æ–≥ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Runs/RunSteps | ‚úÖ (/export_week + inline-–¥–µ–π—Å—Ç–≤–∏–µ) |

## 7. Hardening & Ops (F6)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F6.1 | –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏, –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (`reminder_delay_sec`, `delta_avg_rub`, `open_close_ratio`, SLA –æ—Ç–≤–µ—Ç–æ–≤) | Dashboard/–∞–ª–µ—Ä—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ (Loki/Prometheus) | ‚úÖ (scripts: lock monitor, metrics_report, delta alerts) |
| F6.2 | –ö–æ–Ω—Ñ–∏–≥–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ | –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è `REDIS_RUN_LOCK_TTL_SEC`, `ALLOW_ANYONE_DEFAULT`, run scope | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `.env` –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–Ω—Ç–∞–π–º –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ | ‚úÖ (env vars –≤–ª–∏—è—é—Ç –Ω–∞ –¥–æ–ø—É—Å–∫–∏ –∏ lock scope) |
| F6.3 | QA + —Ç–µ—Å—Ç—ã | Unit/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ/e2e (mock Telegram/Sheets), —á–µ–∫-–ª–∏—Å—Ç –ø–∏–ª–æ—Ç–∞ | –¢–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, —á–µ–∫-–ª–∏—Å—Ç –ø–æ–¥–ø–∏—Å–∞–Ω –¥–æ –∑–∞–ø—É—Å–∫–∞ | ‚úÖ (`docs/QAPlan.md`) |

## 8. Cutover & Support
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| C1 | –ù–∞–∫–ª–µ–π–∫–∏/QR | –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR `?start=shop_<id>__open|__close`, –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –Ω–∞–∫–ª–µ–π–∫–∏ | QR –≤–µ–¥—É—Ç –≤ –±–æ—Ç–∞, payload —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è | ‚úÖ (`tools/generate_qr.py`, —Ñ–∞–π–ª—ã –≤ `ops/qr`) |
| C2 | –¢—Ä–µ–Ω–∏–Ω–≥ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ | –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (opener/closer flow): PDF + –¥–µ–º–æ-–≤–∏–¥–µ–æ, —Ä–∞–∑–º–µ—â—ë–Ω–Ω–æ–µ –≤ Google Drive | –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –æ–±—É—á–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ, –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Drive | ‚úÖ (`docs/TrainingPlan.md`, —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—ã) |
| C3 | –ü–∏–ª–æ—Ç –∏ –ø–æ—Å—Ç-–º–æ—Ä—Ç–µ–º | –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–∏–ª–æ—Ç –Ω–∞ 2 –º–∞–≥–∞–∑–∏–Ω–∞—Ö, —Å–æ–±—Ä–∞—Ç—å –¥–µ–ª—å—Ç—ã, –æ—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç—á—ë—Ç | –ü–∏–ª–æ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω, –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã | ‚úÖ (`docs/PilotReport.md`) |

## 9. Backlog / Next Iteration
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| N1 | `template_phase_map` ‚Üí FSM/Sheets | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É `template_phase_map` –≤ –ª–∏—Å—Ç Runs, –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏, –æ–±–Ω–æ–≤–∏—Ç—å FSM —Ç–∞–∫, —á—Ç–æ–±—ã —à–∞–≥–∏ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –≥—Ä—É–∑–∏–ª–∏—Å—å –ø–æ map, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å `template_open_id`/`template_close_id` | Run –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω—É–∂–Ω—ã–π —à–∞–±–ª–æ–Ω; –ø—É—Å—Ç–æ–π/–±–∏—Ç—ã–π phase_map –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—Ç; –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ Sheets | ‚úÖ |
| N2 | –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ —á–∏—Å—Ç—ã–π `/start` | –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç—ã –∏–∑ PRD/BotFlows –≤ `locale/ru/messages.json`, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `/start` —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∏ –¥–≤—É–º—è CTA (¬´–û—Ç–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É¬ª, ¬´–ù–∞—á–∞—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ¬ª) + –∫–Ω–æ–ø–∫—É ¬´–ï—â—ë‚Ä¶¬ª –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π | –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ –ª–æ–∫–∞–ª–µ–π; —Ä—è–¥–æ–≤–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –Ω–∞ —ç–∫—Ä–∞–Ω–µ –º–∞–∫—Å–∏–º—É–º 2‚Äì3 CTA; /start —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏ | ‚úÖ (–ª–æ–∫–∞–ª–∏ `locale/ru/messages.json`, –æ–±–Ω–æ–≤–ª–µ–Ω—ã `docs/BotFlows.md`, `docs/EmployeeGuide.md`, PRD) |
| N3 | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (‚àí15/‚àí30) | –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å `tools/reminder_scheduler.py` –∏ —Ä–∞–Ω—Ç–∞–π–º: –≤—ã—á–∏—Å–ª—è—Ç—å open/close-—Å–ª–æ—Ç—ã –ø–æ timezone –º–∞–≥–∞–∑–∏–Ω–∞, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å `reminder_slots=NULL`, –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –æ–±—â–∏–π —á–∞—Ç, –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç/CLI –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º/–∑–∞–∫—Ä—ã—Ç–∏–µ–º –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏; –∂—É—Ä–Ω–∞–ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å–∞—Ç–æ–≤ (–¥–æ/–ø–æ—Å–ª–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–∏); QA-—Å–∫—Ä–∏–ø—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ 11/16/19 —Å–ª–æ—Ç–æ–≤ | ‚úÖ |
| N4 | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π Export | –û–±–Ω–æ–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ (–∫–æ–º–∞–Ω–¥–∞ `/summary`/`/export`) –ø–æ–¥ –Ω–æ–≤—ã–π –Ω–∞–±–æ—Ä –∫–æ–ª–æ–Ω–æ–∫: shop_name, run_date, opener/closer_* –ø–æ–ª—è, cash_total/noncash_total, delta_comment, attachments_summary, audit_link; –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Runs/RunSteps | CSV/Google Sheet —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ; QA —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å—É–º–º, —Å—Å—ã–ª–æ–∫ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | ‚úÖ (–æ–±–Ω–æ–≤–ª–µ–Ω—ã `export.models`, —Ç–µ—Å—Ç `tests/export/test_utils.py`, —à–∞–±–ª–æ–Ω `data/sheets/Export.csv`, QA —á–µ–∫-–ª–∏—Å—Ç) |
| N5 | –ú–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–æ–µ –º–µ–Ω—é –∏ –æ–±—â–∏–π —á–∞—Ç | –ü—Ä–∏–≤–µ—Å—Ç–∏ `/status`, `/summary`, `/handover` –∏ inline-–∫–Ω–æ–ø–∫–∏ –∫ –æ–ø–∏—Å–∞–Ω–∏—é –≤ BotFlows: –≤—ã–≤–æ–¥–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å/–¥–µ–ª—å—Ç—É, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å summary –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã –≤ –æ–±—â–∏–π —á–∞—Ç –º–∞–≥–∞–∑–∏–Ω–∞, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å Audit handover/return; –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥ –≤ –≥—Ä—É–ø–ø–∞—Ö | –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –≤ –ª–∏—á–∫–µ, –∏ –≤ –≥—Ä—É–ø–ø–æ–≤–æ–º —á–∞—Ç–µ; –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–æ–ª–µ–π —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ Audit –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö; summary/–≤–æ–∑–≤—Ä–∞—Ç—ã –≤–∏–¥—è—Ç –º–µ–Ω–µ–¥–∂–µ—Ä –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞ | ‚úÖ |

## 10. Dual cash mode rollout
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| D0 | –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è | –£—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω –≤–∫–ª—é—á–µ–Ω–∏—è `dual_cash_mode`, –≤—ã–±—Ä–∞—Ç—å –ø–∏–ª–æ—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω, –æ–ø–∏—Å–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞—Ç–∞ | –ü–ª–∞–Ω –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω, –ø–∏–ª–æ—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –∏ –¥–∞—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã | ‚úÖ |
| D1 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Google Sheets | –î–æ–±–∞–≤–∏—Ç—å `dual_cash_mode`/`reminder_slots` –≤ `Shops`, –ø–æ–ª–µ `owner_role` –≤ `TemplateSteps`, –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –∫–∞—Å—Å A/B | –ö–æ–ø–∏—è —Ç–∞–±–ª–∏—Ü—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç smoke-—Ç–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞/—á—Ç–µ–Ω–∏—è | ‚úÖ |
| D2 | –ú–∏–≥—Ä–∞—Ü–∏–∏ RunSteps/Export | –î–æ–±–∞–≤–∏—Ç—å `owner_role` –∏ `performer_user_id` –≤ RunSteps, –±–ª–æ–∫–∏ opener/closer –≤ `totals_json`/`attachments_summary`, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π | –ú–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≥–Ω–∞–Ω–∞ –Ω–∞ –∫–æ–ø–∏–∏ Sheets, —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ | ‚úÖ |
| D3 | FSM –∏ summary | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CTA ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–º–µ–Ω—É¬ª, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —à–∞–≥–æ–≤ –ø–æ —Ä–æ–ª—è–º, –¥–≤–æ–π–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤ –∏ –Ω–æ–≤—ã–π `/summary` —Å –±–ª–æ–∫–∞–º–∏ –∫–∞—Å—Å–∞ A/B | E2E-—Ç–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π flow –¥–≤—É—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, summary –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±–æ–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ —à–∞–≥–æ–≤ | ‚úÖ |
| D4 | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –∞–ª–µ—Ä—Ç—ã | Scheduler –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å `dual_cash_mode`: –¥–Ω–µ–≤–Ω—ã–µ —Å–ª–æ—Ç—ã 12:00‚Äì17:30, —Ç–∞—Ä–≥–µ—Ç –ø–æ `owner_role`, —Å–±—Ä–æ—Å `reminder_state`, delta-alerts —É–∫–∞–∑—ã–≤–∞—é—Ç –∫–∞—Å—Å—É | –ù–∞ —Ç–µ—Å—Ç–æ–≤–æ–º run —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Ü–µ–ª–µ–≤—ã–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –±–µ–∑ –¥—É–±–ª–µ–π, –ª–æ–≥–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç —à–∞–≥ –∏ —Ä–æ–ª—å | ‚úÖ |
| D5 | QA –∏ –∑–∞–ø—É—Å–∫ | –û–±–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —á–µ–∫-–ª–∏—Å—Ç, –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–∏–ª–æ—Ç –∏ –≤–∫–ª—é—á–∏—Ç—å —Ñ–∏—á—É –Ω–∞ –ø—Ä–æ–¥–µ; –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤/–º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ | –ß–µ–∫-–ª–∏—Å—Ç –ø–æ–¥–ø–∏—Å–∞–Ω, –ø–∏–ª–æ—Ç –ø—Ä–æ—à—ë–ª –±–µ–∑ –±–ª–æ–∫–µ—Ä–æ–≤, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Ä–∞–∑–æ—Å–ª–∞–Ω—ã, —Ñ–ª–∞–≥ –≤–∫–ª—é—á—ë–Ω | ‚úÖ |

## 11. –§–∏–Ω–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–º–µ–Ω (F7)
| ID | –ó–∞–¥–∞—á–∞ | –ö–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è | Acceptance | Status |
| --- | --- | --- | --- | --- |
| F7.1 | –ê–∫—Ç–∏–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –∏ —Å—Ç–∞—Ç—É—Å—ã | –î–æ–±–∞–≤–∏—Ç—å –≤ Runs –ø–æ–ª–µ `current_active_user_id`, –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –Ω–∞ ¬´–û—Ç–∫—Ä—ã—Ç—å/–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª, —Ä–∞–∑—Ä–µ—à–∞—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É, –ø—Ä–∏–≤–µ—Å—Ç–∏ —Å—Ç–∞—Ç—É—Å—ã `opened ‚Üí in_progress ‚Üí closed` –∫ —ç—Ç–æ–π –º–æ–¥–µ–ª–∏ | –í —Ç–∞–±–ª–∏—Ü–µ –≤–∏–¥–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –ª–æ–≥ `Audit` —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–º–µ–Ω—É —Ä–æ–ª–µ–π | ‚è≥ |
| F7.2 | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ | –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (¬´–û—Ç–∫—Ä—ã—Ç—å¬ª, ¬´–ó–∞–∫—Ä—ã—Ç—å¬ª) —Å–∫—Ä—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ CTA, –æ–±–µ—Å–ø–µ—á–∏—Ç—å –æ–¥–∏–Ω–æ—á–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª, –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ–ª—å –¥–≤–æ–π–Ω—ã—Ö –∫–ª–∏–∫–æ–≤ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É; –ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞–∂–∞—Ç–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è | ‚è≥ |
| F7.3 | –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º | –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ ¬´–Ω–∞–∑–∞–¥¬ª –æ–¥–Ω–∏–º —à–∞–≥–æ–º, –∑–∞–ø—Ä–µ—Ç–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —à–∞–≥–æ–≤, –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–µ–∫—É—â–µ–º—É —à–∞–≥—É | QA-—Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥ –∏ –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —É–∂–µ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ —à–∞–≥–∏ | ‚è≥ |
| F7.4 | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –∏ —É—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ | –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (Z-—Ñ–æ—Ç–æ, –∫–∞—Å—Å–∞ –∏ —Ç.–¥.), –≤–Ω–µ–¥—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º, —É—á–µ—Å—Ç—å —É—Å–ª–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏ Œî>–ø–æ—Ä–æ–≥, —Ñ–æ—Ç–æ –ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–∏) | –ë–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤ –±–æ—Ç –Ω–µ –¥–∞—ë—Ç –∑–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É; —É—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö | ‚è≥ |
| F7.5 | –§–∏–∫—Å–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è | –ù–∞ —É—Ä–æ–≤–Ω–µ RunSteps —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å/—Ç–∞–π–º–∏–Ω–≥ (start/finish), –∑–∞–ø–æ–ª–Ω—è—Ç—å `performer_user_id`, `updated_at`, `finished_at` –¥–ª—è run | –í Sheets –≤–∏–¥–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞; –æ—Ç—á—ë—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫—Ç–æ —Å–¥–µ–ª–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ | ‚è≥ |
| F7.6 | –ò—Ç–æ–≥–æ–≤–æ–µ summary –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ | –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —à–∞–≥–æ–≤ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–æ–≥ (—Å—É–º–º—ã, —Ñ–æ—Ç–æ, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏), –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É/–≤ —á–∞—Ç, –∑–∞–∫—Ä—ã–≤–∞—Ç—å run (`closed`, `delta_rub`, `finished_at`), –æ–±–Ω–æ–≤–ª—è—Ç—å Export | `/summary` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∏—Ç–æ–≥, –≤ Runs/Export –≤–∏–¥–Ω—ã —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | ‚è≥ |
| F7.7 | –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å `returned`: –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å–º–µ–Ω—É, –∞–∫—Ç–∏–≤–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è, –∫–Ω–æ–ø–∫–∏ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å/–ó–∞–∫—Ä—ã—Ç—å¬ª —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã, Audit —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ | –í–æ–∑–≤—Ä–∞—Ç –∏–∑ Telegram –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É; –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —à–∞–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ | ‚è≥ |
| F7.8 | –õ–æ–≥–∏ –∏ –∞–ª–µ—Ä—Ç—ã –ø–æ Sheets | –†–∞—Å—à–∏—Ä–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ `_execute_with_retry`, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å `BrokenPipe`/—Ç–∞–π–º–∞—É—Ç—ã, –¥–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç/–º–µ—Ç—Ä–∏–∫–∏ –ø–æ –æ—à–∏–±–∫–∞–º Google API | –í journalctl –≤–∏–¥–Ω–æ –ø–æ–ø—ã—Ç–∫–∏ –∏ –æ—à–∏–±–∫–∏ Sheets, –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–±–æ—è—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞–ª–µ—Ä—Ç | ‚è≥ |

–õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤: ‚úÖ ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, üîÑ ‚Äî –≤ —Ä–∞–±–æ—Ç–µ, ‚è≥ ‚Äî –≤ –ø–ª–∞–Ω–∞—Ö, ‚õî ‚Äî –æ—Ç–º–µ–Ω–µ–Ω–æ.
